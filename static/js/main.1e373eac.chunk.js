(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{183:function(e,t,n){e.exports=n(324)},193:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),c=n.n(o),l=n(19),i=n(173),u=n(51),s=n(154),d=n(82),m=n(17),f={loading:!1,loaded:!1,error:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"SET_LOADED":return Object(m.a)(Object(m.a)({},e),{},{loaded:!0});case"SET_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error});case"FINISH_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!1});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TODOS":return t.todos;case"DELETE_TODO":return e.filter((function(e){return t.todoId!==e.id}));default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},b="ASC",O={field:"id",order:b},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY":return t.field===e.field?Object(m.a)(Object(m.a)({},e),{},{order:e.order===b?"DESC":b}):Object(m.a)(Object(m.a)({},e),{},{field:t.field,order:b});default:return e}},h=function(e){return{type:"SET_PAGE",page:e}},j={page:1,perPage:10},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return Object(m.a)(Object(m.a)({},e),{},{page:t.page});case"SET_PER_PAGE":return Object(m.a)(Object(m.a)({},e),{},{perPage:t.perPage,page:1});default:return e}},y=Object(u.combineReducers)({loading:p,todos:g,query:E,sort:v,pagination:T}),S=function(e){return e.loading.loading},I=function(e){return e.loading.loaded},_=function(e){return e.loading.error},C=function(e){return e.query},D=function(e){return e.pagination.page},R=function(e){return e.pagination.perPage},N=Object(d.a)((function(e){return e.todos}),C,(function(e){return e.sort.field}),(function(e){return e.sort.order}),(function(e,t,n,a){var r=function(){return 0};switch(typeof e[0][n]){case"string":r=function(e,t){return e[n].localeCompare(t[n])};break;case"object":r=function(e,t){return e[n].name.localeCompare(t[n].name)};break;default:r=function(e,t){return e[n]-t[n]}}var o=e.filter((function(e){return e.title.includes(t)})).sort(r);return"DESC"===a&&o.reverse(),o})),w=Object(d.a)(N,D,R,(function(e,t,n){var a=(t-1)*n,r=t*n;return e.slice(a,r)})),P=Object(d.a)(N,R,(function(e,t){return Math.ceil(e.length/t)})),A=Object(u.createStore)(y,Object(s.composeWithDevTools)());A.subscribe((function(){localStorage.setItem("todos",JSON.stringify(A.getState()))}));var L=A,k=n(110),x=n.n(k),H=n(155),G=n(338),B=n(339),F=n(325),q=(n(193),function(e){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-todos/api").concat(e,".json")).then((function(e){return e.json()}))}),z=n(334),Y=n(41),J=function(e){var t=e.user;return r.a.createElement(z.a.Cell,null,(null===t||void 0===t?void 0:t.name)||"")},Q=function(e){var t=e.todo,n=t.id,a=t.user,o=t.completed,c=t.title,i=Object(l.b)();return r.a.createElement(z.a.Row,{className:"TodoItem",positive:o,negative:!o},r.a.createElement(z.a.Cell,null,n),r.a.createElement(J,{user:a}),r.a.createElement(z.a.Cell,{textAlign:"left"},c),r.a.createElement(z.a.Cell,{content:o?"Complebitur":"In processus"}),r.a.createElement(z.a.Cell,null,r.a.createElement(F.a,{className:"TodoItem-Delete",onClick:function(){return i({type:"DELETE_TODO",todoId:n})},color:"red",icon:!0},r.a.createElement(Y.a,{name:"trash alternate"}),"\xa0\xa0Delete")))},U=n(335),M=n(336),W=[{key:1,text:"5 todos",value:5},{key:2,text:"10 todos",value:10},{key:3,text:"20 todos",value:20},{key:4,text:"50 todos",value:50}],K=function(){var e=Object(l.b)(),t=Object(l.c)(D),n=Object(l.c)(R),o=Object(l.c)(P);return Object(a.useEffect)((function(){t>o&&e(h(o))}),[t,o,e]),r.a.createElement(z.a.HeaderCell,{colSpan:"10",className:"Pagination"},r.a.createElement(U.a,{placeholder:"Select people per page",floated:"left",selection:!0,name:"perPage",value:n,onChange:function(t,n){var a=n.value;e(function(e){return{type:"SET_PER_PAGE",perPage:e}}(a))},options:W,direction:"right"}),1!==o&&r.a.createElement(M.a,{floated:"right",activePage:t,onPageChange:function(t,n){var a=n.activePage;e(h(a))},ellipsisItem:{content:r.a.createElement(Y.a,{name:"ellipsis horizontal"}),icon:!0},prevItem:{content:r.a.createElement(Y.a,{name:"angle left"}),disabled:1===t,icon:!0},firstItem:{content:r.a.createElement(Y.a,{name:"angle double left"}),disabled:1===t,icon:!0},nextItem:{content:r.a.createElement(Y.a,{name:"angle right"}),disabled:t===o,icon:!0},lastItem:{content:r.a.createElement(Y.a,{name:"angle double right"}),disabled:t===o,icon:!0},totalPages:o}))},V={id:"Id",user:"Person",title:"Description",completed:"Completed",delete:"Delete todo"},X=function(){var e=Object(l.c)(w),t=Object(l.b)();return r.a.createElement(z.a,{celled:!0,className:"ui orange inverted TodoList",selectable:!0},r.a.createElement(z.a.Header,null,r.a.createElement(z.a.Row,{className:"TodoList-TableRow"},Object.keys(V).map((function(e){return r.a.createElement(a.Fragment,{key:e},"delete"!==e?r.a.createElement(z.a.HeaderCell,{className:"TodoList-HeaderCell",onClick:function(){t({type:"SORT_BY",field:e})},content:V[e]}):r.a.createElement(z.a.HeaderCell,{className:"TodoList-HeaderCell TodoList-HeaderCell_delete",content:V[e]}))})))),r.a.createElement(z.a.Body,null,e.map((function(e){return r.a.createElement(Q,{key:e.id,todo:e})}))),r.a.createElement(z.a.Footer,null,r.a.createElement(z.a.Row,{className:"TodoList-TableRow"},r.a.createElement(K,null))))},Z=n(332),$=50,ee=/[^a-z ]/gi,te=function(){var e=Object(l.b)(),t=Object(l.c)(C);return r.a.createElement(Z.a,{icon:r.a.createElement(Y.a,{name:"search",inverted:!0,circular:!0,color:"orange"}),className:"SearchTodo",placeholder:"Search...",size:"large",value:t,onChange:function(t){var n=t.target,a=ee,r=$,o=n.value.replace(a,"").replace(/\s{2,}/g," ").slice(0,r);e(function(e){return{type:"SET_QUERY",query:e}}(o))}})},ne=function(){var e=Object(H.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("/todos");case 2:return t=e.sent,e.next=5,q("/users");case 5:return n=e.sent,e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.abrupt("return",t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{user:n.find((function(t){return t.id===e.userId}))||void 0})})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.b)(),t=Object(l.c)(S),n=Object(l.c)(I),a=Object(l.c)(_);return r.a.createElement(G.a,{inverted:!0,className:"App Application"},r.a.createElement(B.a,{as:"h1",color:"orange",content:"Redux list of todos"}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(X,null)):r.a.createElement(F.a,{className:"App-LoadButton",content:"Load Todo",loading:t,disabled:t,color:"orange",size:"big",onClick:function(){e({type:"START_LOADING"}),ne().then((function(t){e({type:"INIT_TODOS",todos:t}),e({type:"SET_LOADED"})})).catch((function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_ERROR",error:e}}("Something went wrong: ".concat(t.message)))})).finally((function(){e({type:"FINISH_LOADING"})}))}}),r.a.createElement(B.a,{as:"h2",color:"yellow"},a))},re=function(){return r.a.createElement(l.a,{store:L},r.a.createElement(i.a,null,r.a.createElement(ae,null)))};c.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.1e373eac.chunk.js.map