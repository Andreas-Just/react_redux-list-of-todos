(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{183:function(e,t,a){e.exports=a(325)},193:function(e,t,a){},323:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=a(19),i=a(173),u=a(51),s=a(154),d=a(82),m=a(17),f={loading:!1,loaded:!1,error:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"SET_LOADED":return Object(m.a)(Object(m.a)({},e),{},{loaded:!0});case"SET_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error});case"FINISH_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!1});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TODOS":return t.todos;case"DELETE_TODO":return e.filter((function(e){return t.todoId!==e.id}));default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},p="ASC",v={field:"id",order:p},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY":return t.field===e.field?Object(m.a)(Object(m.a)({},e),{},{order:e.order===p?"DESC":p}):Object(m.a)(Object(m.a)({},e),{},{field:t.field,order:p});default:return e}},h=function(e){return{type:"SET_PAGE",page:e}},j={page:1,perPage:10},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return Object(m.a)(Object(m.a)({},e),{},{page:t.page});case"SET_PER_PAGE":return Object(m.a)(Object(m.a)({},e),{},{perPage:t.perPage,page:1});default:return e}},T=Object(u.combineReducers)({loading:g,todos:E,query:b,sort:O,pagination:C}),y=function(e){return e.loading.loading},_=function(e){return e.loading.loaded},S=function(e){return e.loading.error},N=function(e){return e.query},I=function(e){return e.pagination.page},D=function(e){return e.pagination.perPage},R=Object(d.a)((function(e){return e.todos}),N,(function(e){return e.sort.field}),(function(e){return e.sort.order}),(function(e,t,a,n){var r=function(){return 0};switch(typeof e[0][a]){case"string":r=function(e,t){return e[a].localeCompare(t[a])};break;case"object":r=function(e,t){return e[a].name.localeCompare(t[a].name)};break;default:r=function(e,t){return e[a]-t[a]}}var c=e.filter((function(e){return e.title.includes(t)})).sort(r);return"DESC"===n&&c.reverse(),c})),w=Object(d.a)(R,I,D,(function(e,t,a){var n=(t-1)*a,r=t*a;return e.slice(n,r)})),P=Object(d.a)(R,D,(function(e,t){return Math.ceil(e.length/t)||1})),A=Object(u.createStore)(T,Object(s.composeWithDevTools)());A.subscribe((function(){localStorage.setItem("todos",JSON.stringify(A.getState()))}));var L=A,k=a(110),x=a.n(k),H=a(155),G=a(339),F=a(340),B=a(326),q=(a(193),function(e){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-todos/api").concat(e,".json")).then((function(e){return e.json()}))}),z=a(335),Y=a(41),J=function(e){var t=e.user;return r.a.createElement(z.a.Cell,null,(null===t||void 0===t?void 0:t.name)||"")},Q=function(e){var t=e.todo,a=t.id,n=t.user,c=t.completed,o=t.title,i=Object(l.b)();return r.a.createElement(z.a.Row,{className:"TodoItem",positive:c,negative:!c},r.a.createElement(z.a.Cell,null,a),r.a.createElement(J,{user:n}),r.a.createElement(z.a.Cell,{textAlign:"left"},o),r.a.createElement(z.a.Cell,{content:c?"Complebitur":"In processus"}),r.a.createElement(z.a.Cell,null,r.a.createElement(B.a,{className:"TodoItem-Delete",onClick:function(){return i({type:"DELETE_TODO",todoId:a})},color:"red",icon:!0},r.a.createElement(Y.a,{name:"trash alternate"}),"\xa0\xa0Delete")))},U=a(336),M=a(337),W=[{key:1,text:"5 todos",value:5},{key:2,text:"10 todos",value:10},{key:3,text:"20 todos",value:20},{key:4,text:"50 todos",value:50}],K=function(){var e=Object(l.b)(),t=Object(l.c)(I),a=Object(l.c)(D),c=Object(l.c)(P);return Object(n.useEffect)((function(){t>c&&e(h(c))}),[t,c,e]),r.a.createElement(z.a.HeaderCell,{colSpan:"10",className:"Pagination"},r.a.createElement(U.a,{placeholder:"Select people per page",floated:"left",selection:!0,name:"perPage",value:a,onChange:function(t,a){var n=a.value;e(function(e){return{type:"SET_PER_PAGE",perPage:e}}(n))},options:W,direction:"right"}),1!==c&&r.a.createElement(M.a,{floated:"right",activePage:t,onPageChange:function(t,a){var n=a.activePage;e(h(n))},ellipsisItem:{content:r.a.createElement(Y.a,{name:"ellipsis horizontal"}),icon:!0},prevItem:{content:r.a.createElement(Y.a,{name:"angle left"}),disabled:1===t,icon:!0},firstItem:{content:r.a.createElement(Y.a,{name:"angle double left"}),disabled:1===t,icon:!0},nextItem:{content:r.a.createElement(Y.a,{name:"angle right"}),disabled:t===c,icon:!0},lastItem:{content:r.a.createElement(Y.a,{name:"angle double right"}),disabled:t===c,icon:!0},totalPages:c}))},V={id:"Id",user:"Person",title:"Description",completed:"Completed",delete:"Delete todo"},X=function(){var e=Object(l.c)(w),t=Object(l.b)();return r.a.createElement(z.a,{celled:!0,className:"ui orange inverted TodoList",selectable:!0},r.a.createElement(z.a.Header,null,r.a.createElement(z.a.Row,{className:"TodoList-TableRow"},Object.keys(V).map((function(e){return r.a.createElement(n.Fragment,{key:e},"delete"!==e?r.a.createElement(z.a.HeaderCell,{className:"TodoList-HeaderCell",onClick:function(){t({type:"SORT_BY",field:e})},content:V[e]}):r.a.createElement(z.a.HeaderCell,{className:"TodoList-HeaderCell TodoList-HeaderCell_delete",content:V[e]}))})))),r.a.createElement(z.a.Body,null,e.map((function(e){return r.a.createElement(Q,{key:e.id,todo:e})}))),r.a.createElement(z.a.Footer,null,r.a.createElement(z.a.Row,{className:"TodoList-TableRow"},r.a.createElement(K,null))))},Z=a(333),$=50,ee=/[^a-z ]/gi,te=function(){var e=Object(l.b)(),t=Object(l.c)(N);return r.a.createElement(Z.a,{icon:r.a.createElement(Y.a,{name:"search",inverted:!0,circular:!0,color:"orange"}),className:"SearchTodo",placeholder:"Search...",size:"large",value:t,onChange:function(t){var a=t.target,n=ee,r=$,c=a.value.replace(n,"").replace(/\s{2,}/g," ").slice(0,r);e(function(e){return{type:"SET_QUERY",query:e}}(c))}})},ae=(a(323),function(){return r.a.createElement("div",{className:"Hero"},r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}),r.a.createElement("div",{className:"Cube Cube_gradient"}))}),ne=function(){var e=Object(H.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("/todos");case 2:return t=e.sent,e.next=5,q("/users");case 5:return a=e.sent,e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.abrupt("return",t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))||void 0})})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.b)(),t=Object(l.c)(y),a=Object(l.c)(_),n=Object(l.c)(S);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{className:"App Application"},r.a.createElement(F.a,{as:"h1",color:"orange",content:"Redux list of todos"}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(X,null)):r.a.createElement(B.a,{className:"App-LoadButton",content:"Load Todo",loading:t,disabled:t,color:"orange",size:"big",onClick:function(){e({type:"START_LOADING"}),ne().then((function(t){e({type:"INIT_TODOS",todos:t}),e({type:"SET_LOADED"})})).catch((function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_ERROR",error:e}}("Something went wrong: ".concat(t.message)))})).finally((function(){e({type:"FINISH_LOADING"})}))}}),r.a.createElement(F.a,{as:"h2",color:"yellow"},n)),r.a.createElement(ae,null))},ce=function(){return r.a.createElement(l.a,{store:L},r.a.createElement(i.a,null,r.a.createElement(re,null)))};o.a.render(r.a.createElement(ce,null),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.4cf635d9.chunk.js.map